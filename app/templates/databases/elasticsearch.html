{% extends "base.html" %}

{% block title %}Elasticsearch Dashboard - Database Manager{% endblock %}

{% block content %}
{% include "components/sidebar.html" %}

<main class="flex-1 flex flex-col min-w-0 bg-slate-50">
    <header class="h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8">
        <div class="flex items-center gap-4">
            <a href="/databases" class="text-slate-400 hover:text-slate-600">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
            </a>
            <h2 class="text-2xl font-bold text-slate-800">Elasticsearch Cluster</h2>
        </div>
        <div class="flex items-center gap-3">
            <span
                class="flex items-center gap-2 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium">
                <span class="w-2 h-2 rounded-full bg-green-500"></span>
                Health: Green
            </span>
        </div>
    </header>

    <div class="flex-1 overflow-y-auto p-8 space-y-8">
        <!-- Cluster Stats -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                <h3 class="text-sm font-medium text-slate-500 mb-2">Nodes</h3>
                <div class="text-3xl font-bold text-slate-800">3</div>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                <h3 class="text-sm font-medium text-slate-500 mb-2">Indices</h3>
                <div class="text-3xl font-bold text-slate-800">24</div>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                <h3 class="text-sm font-medium text-slate-500 mb-2">Total Documents</h3>
                <div class="text-3xl font-bold text-slate-800">1.2M</div>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                <h3 class="text-sm font-medium text-slate-500 mb-2">Data Size</h3>
                <div class="text-3xl font-bold text-slate-800">45 GB</div>
            </div>
        </div>

        <!-- Indices -->
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
            <div class="px-6 py-4 border-b border-slate-200 flex items-center justify-between">
                <h3 class="font-bold text-slate-800">Indices</h3>
                <button
                    class="px-4 py-2 bg-slate-100 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-200 transition-colors">
                    Create Index
                </button>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-left text-sm text-slate-600">
                    <thead class="bg-slate-50 text-xs uppercase font-semibold text-slate-500">
                        <tr>
                            <th class="px-6 py-4">Name</th>
                            <th class="px-6 py-4">Health</th>
                            <th class="px-6 py-4">Status</th>
                            <th class="px-6 py-4">Docs</th>
                            <th class="px-6 py-4">Size</th>
                            <th class="px-6 py-4 text-right">Actions</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                        <tr class="hover:bg-slate-50 transition-colors">
                            <td class="px-6 py-4 font-medium text-slate-900">logs-2023.10</td>
                            <td class="px-6 py-4"><span class="text-green-600 font-medium">green</span></td>
                            <td class="px-6 py-4">open</td>
                            <td class="px-6 py-4">450,231</td>
                            <td class="px-6 py-4">12.5 GB</td>
                            <td class="px-6 py-4 text-right">
                                <button class="text-primary hover:text-blue-700 font-medium">Inspect</button>
                            </td>
                        </tr>
                        <tr class="hover:bg-slate-50 transition-colors">
                            <td class="px-6 py-4 font-medium text-slate-900">products_v1</td>
                            <td class="px-6 py-4"><span class="text-green-600 font-medium">green</span></td>
                            <td class="px-6 py-4">open</td>
                            <td class="px-6 py-4">12,500</td>
                            <td class="px-6 py-4">250 MB</td>
                            <td class="px-6 py-4 text-right">
                                <button class="text-primary hover:text-blue-700 font-medium">Inspect</button>
                            </td>
                        </tr>
                        <tr class="hover:bg-slate-50 transition-colors">
                            <td class="px-6 py-4 font-medium text-slate-900">users</td>
                            <td class="px-6 py-4"><span class="text-yellow-600 font-medium">yellow</span></td>
                            <td class="px-6 py-4">open</td>
                            <td class="px-6 py-4">5,000</td>
                            <td class="px-6 py-4">10 MB</td>
                            <td class="px-6 py-4 text-right">
                                <button class="text-primary hover:text-blue-700 font-medium">Inspect</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Search Console -->
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col h-96">
            <div class="px-6 py-4 border-b border-slate-200">
                <h3 class="font-bold text-slate-800">Search Console</h3>
            </div>
            <div class="flex-1 flex flex-col md:flex-row">
                <div class="w-full md:w-1/2 p-4 border-r border-slate-200 flex flex-col">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="text-xs font-semibold text-slate-500 uppercase">Method</span>
                        <select class="text-xs border border-slate-300 rounded px-2 py-1 outline-none">
                            <option>GET</option>
                            <option>POST</option>
                            <option>PUT</option>
                            <option>DELETE</option>
                        </select>
                        <input type="text"
                            class="flex-1 text-xs border border-slate-300 rounded px-2 py-1 outline-none font-mono"
                            value="/_search">
                    </div>
                    <textarea
                        class="flex-1 p-3 font-mono text-xs bg-slate-50 border border-slate-200 rounded-lg outline-none resize-none"
                        placeholder="{
    'query': {
        'match_all': {}
    }
}">{
    "query": {
        "match_all": {}
    }
}</textarea>
                    <button
                        class="mt-3 w-full py-2 bg-primary text-white text-sm font-medium rounded-lg hover:bg-blue-600 transition-colors">
                        Run Query
                    </button>
                </div>
                <div class="w-full md:w-1/2 p-4 bg-slate-900 text-slate-300 font-mono text-xs overflow-auto">
                    <pre>{
  "took": 5,
  "timed_out": false,
  "_shards": {
    "total": 1,
    "successful": 1,
    "skipped": 0,
    "failed": 0
  },
  "hits": {
    "total": {
      "value": 10000,
      "relation": "gte"
    },
    "max_score": 1.0,
    "hits": [
      {
        "_index": "logs-2023.10",
        "_type": "_doc",
        "_id": "1",
        "_score": 1.0,
        "_source": {
          "timestamp": "2023-10-27T10:00:00Z",
          "level": "INFO",
          "message": "User login successful"
        }
      }
    ]
  }
}</pre>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}